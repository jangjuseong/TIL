# 코드 구조

## 문

문(statement)는 어떤 작업을 수행하는 문법 구조(syntax structure)와 명령어(command)를 의미합니다.

이 때 서로 다른 문은 세미콜론으로 구분합니다.

## 세미콜론

줄 바꿈이 있다면 세미콜론(semicolon)을 생략할 수 있습니다.

자바스크립트는 줄 바꿈이 있으면 이를 ‘암시적’ 세미콜론으로 해석합니다. 이런 동작 방식을 세미콜론 자동 삽입(automatic semicolon insertion)이라 부릅니다.

대부분의 경우, 줄 바꿈은 세미콜론을 의미합니다. 하지만 '대부분의 경우’가 '항상’을 의미하진 않습니다.

아래와 같이 줄 바꿈이 세미콜론을 의미하지 않는 경우도 있습니다.

```javascript
alert(3 + 1 + 2);
```

세미콜론 자동 삽입이 일어나지 않았기 때문에 6이 출력됩니다. 어떤 줄이 "+" 로 끝나면, 그 줄은 '불완전한 표현식’이므로 세미콜론이 필요하지 않다는 걸 직감하실 겁니다. 위 코드도 이런 의도로 동작합니다.

반면, 세미콜론이 정말로 필요하지만 자바스크립트가 이를 추정하지 ‘못하는’ 상황도 존재합니다.

이런 상황에서 발생하는 에러는 찾거나 고치기가 상당히 어렵습니다.

### 에러 예제

자바스크립트가 세미콜론을 자동으로 삽입해주지 못하는 구체적인 상황은 다음과 같습니다.

```javascript
[1, 2].forEach(alert);
```

결과를 출력하면 1과 2가 나옵니다.

이제 위에서 작성한 코드 앞쪽에 세미콜론을 붙이지 않은 채 alert를 추가해 봅시다.

```javascript
alert('에러가 발생합니다.')[(1, 2)].forEach(alert);
```

예제를 실행해 보면 새롭게 추가한 alert만 제대로 출력되고 에러가 발생하는 걸 확인할 수 있습니다.

alert 끝에 세미콜론을 추가해 다시 실행하면 코드는 잘 작동합니다.

```javascript
alert('제대로 동작합니다.');

[1, 2].forEach(alert);
```

“제대로 동작합니다.” 메시지 다음에 1과 2가 나타나는 것을 확인할 수 있죠.

세미콜론이 없을 때 에러가 발생했던 이유는 자바스크립트가 <u>대괄호 [...]앞에는 세미콜론이 있다고 가정하지 않기 때문입니다.</u>

따라서 세미콜론 자동 삽입이 일어나지 않고 첫 번째 예제는 단일 문으로 처리됩니다. 자바스크립트 엔진이 보게 될 코드는 다음과 같아지죠.

```javascript
alert('에러가 발생합니다.')[(1, 2)].forEach(alert);
```

## 주석

주석 달기를 두려워하지 마세요.

주석을 달면 코드의 전체적인 길이가 증가합니다. 하지만 이는 전혀 문제가 되지 않습니다. 프로덕션 서버에 배포하기 전에 코드를 압축해주는 도구가 많이 있고, 이 도구들은 주석을 삭제해주기 때문입니다. 실행 중인 스크립트엔 주석이 들어가지 않으므로, 주석은 최종으로 배포되는 코드에 부정적인 영향을 끼치지 않습니다.
